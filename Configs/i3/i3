####################################################### Keys and Styling

# alt and windows keys
set $alt Mod1
set $win Mod4

# bar font (also for window titles which I don't use)
font pango:DejaVu Sans Mono 30

# window border
default_border pixel 10

# gaps between windows
gaps inner 10

# bar: - seperated with spaces - dont show workspace numbers - pretty background color
bar {
  status_command i3status --config $HOME/.config/i3status/config
  separator_symbol " "
  strip_workspace_numbers yes
  colors {
    background #0F4E50
    binding_mode       #2f343a #00A060 #ffffff
  }
}

####################################################### Do Stuff
#a s d f for convenience

# launch terminal
bindsym $alt+a exec i3-sensible-terminal

# launch brave
bindsym $alt+s exec brave-browser

# close selected window
bindsym $alt+d kill

# toggle fullscreen
bindsym $alt+f fullscreen toggle

# launch some program (search bar)
bindsym $alt+l exec "rofi -modi drun,run -show drun"

# shutdown
bindsym $alt+x exec shutdown now

####################################################### Windows

# change selected window within the workspace
bindsym $win+j focus left
bindsym $win+k focus down
bindsym $win+l focus up
bindsym $win+semicolon focus right

# mode to move the selected window around the workspace
bindsym $win+m mode "move around within workspace"
mode "move around within workspace" {
  bindsym j move left
  bindsym k move down
  bindsym l move up
  bindsym semicolon move right

  bindsym space mode "default"
}

# mode to resize the selected window
bindsym $win+r mode "resize"
mode "resize" {
  bindsym j resize shrink width 5 px or 5 ppt
  bindsym k resize grow height 5 px or 5 ppt
  bindsym l resize shrink height 5 px or 5 ppt
  bindsym semicolon resize grow width 5 px or 5 ppt

  bindsym space mode "default"
}

# split the selected window horizontally/vertically when a new window is spawned
bindsym $alt+h split h
bindsym $alt+v split v

####################################################### Workspaces

# Numbers and emojis
set $ws1 "1üë®‚Äçüíª"
set $ws2 "2üë®‚Äçüíª"
set $ws3 "3üìñ"
set $ws4 "4üèÑ"
set $ws5 "5üìπ"
set $ws6 "6üí¨"
set $ws7 "7ü§î"

# workspace mode and choose workspace with number
bindsym $alt+w mode "workspace"
mode "workspace" {
  bindsym 1 workspace $ws1 mode "default"
  bindsym 2 workspace $ws2 mode "default"
  bindsym 3 workspace $ws3 mode "default"
  bindsym 4 workspace $ws4 mode "default"
  bindsym 5 workspace $ws5 mode "default"
  bindsym 6 workspace $ws6 mode "default"
  bindsym 7 workspace $ws7 mode "default"

  bindsym space mode "default"
}

# go to next/previous workspace
bindsym $alt+j workspace prev_on_output
bindsym $alt+semicolon workspace next_on_output

# moveworkspace mode to move the selected window into another workspace
# - immediately by specific number
# - j/; for next/previous and space when it's the correct workspace
bindsym $alt+m mode "move through workspaces"
mode "move through workspaces" {
  bindsym 1 move container to workspace $ws1 workspace $ws1 mode "default"
  bindsym 2 move container to workspace $ws2 workspace $ws2 mode "default"
  bindsym 3 move container to workspace $ws3 workspace $ws3 mode "default"
  bindsym 4 move container to workspace $ws4 workspace $ws4 mode "default"
  bindsym 5 move container to workspace $ws5 workspace $ws5 mode "default"
  bindsym 6 move container to workspace $ws6 workspace $ws6 mode "default"
  bindsym 7 move container to workspace $ws7 workspace $ws7 mode "default"

  bindsym j move container to workspace prev_on_output workspace prev_on_output
  bindsym semicolon move container to workspace next_on_output workspace next_on_output
  bindsym space mode "default"
}


####################################################### Floating Windows

# toggle tiling / floating
bindsym $win+f floating toggle

# move floating windows wtih the mouse by having the alt key pressed
floating_modifier $alt

# change focus between tiling / floating windows
bindsym $win+space focus mode_toggle

####################################################### Sound/Brightness

set $refresh_i3status killall -SIGUSR1 i3status

bindsym $alt+c mode "control sound and brightness"
mode "control sound and brightness" {
  #mute
  bindsym m \
    exec --no-startup-id "pactl set-sink-mute @DEFAULT_SINK@ toggle &&  $refresh_i3status" \
    mode "default"

  #lower/increase volume
  bindsym j \
    exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% &&  $refresh_i3status
  bindsym semicolon \
    exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% &&  $refresh_i3status

  # lower/increase brightness
  bindsym k exec --no-startup-id brightnessctl set 10%- intel_backlight
  bindsym l exec --no-startup-id brightnessctl set +10% intel_backlight

  bindsym space mode "default"
}

####################################################### Startup

################ mine

# for round corners
exec --no-startup-id picom

# for background image
exec --no-startup-id feh --bg-scale $HOME/StunningFiles/background.jpg

# for languages: greek and english
exec_always setxkbmap -layout us,gr -option 'grp:alt_shift_toggle'

# for automatically starting various apps in various workspaces
exec --no-startup-id $HOME/StunningFiles/Scripts/i3msg.sh

# mirror on tv when using hmdi
exec --no-startup-id xrandr --output HDMI-1 --mode 1920x1080 --same-as eDP-1

# volume icon
exec --no-startup-id volumeicon
################ not mine

# Start XDG autostart .desktop files using dex. See also
# https://wiki.archlinux.org/index.php/XDG_Autostart
exec --no-startup-id dex --autostart --environment i3

# The combination of xss-lock, nm-applet and pactl is a popular choice, so
# they are included here as an example. Modify as you see fit.

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# Manage wireless networks GUI
exec --no-startup-id nm-applet

####################################################### i3

# restart i3 inplace
bindsym $alt+r restart
# reload the configuration file
# bindsym $alt+c reload
# exit i3 (logs you out of your X session)
bindsym $alt+q exec "i3-nagbar -t warning -m 'Exit i3?' -B 'Yes, exit i3' 'i3-msg exit'"

